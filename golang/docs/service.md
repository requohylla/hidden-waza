# サービス層の役割

## サービス層とは

サービス層は「ビジネスロジック（業務ルール）」を集約して記述する層です。  
ハンドラー層（API/HTTP）とリポジトリ層（DBアクセス）の中間に位置し、  
複数のドメインモデルやリポジトリをまたぐ処理、業務的な判定・集計・検証などを担当します。

---

## 役割・設計方針

- **ビジネスロジックの集約**  
  例：職務経歴書作成時の複雑なバリデーション、ユーザー権限チェック、集計処理など

- **ハンドラー層の肥大化防止**  
  HTTPリクエスト処理と業務ロジックを分離し、責務を明確化

- **ドメイン層・リポジトリ層の再利用性向上**  
  サービス層を通じて複数のリポジトリやドメインモデルを組み合わせた処理が可能

---

## サンプル構成

- `internal/service/resume_service.go`  
  職務経歴書に関するビジネスロジックを集約

---

## サービス層導入後の流れ

1. ハンドラー層でリクエスト受信・DTO変換
2. サービス層でビジネスロジック実行（バリデーション・集計等）
3. サービス層からリポジトリ層を呼び出しDB操作
4. 結果をハンドラー層に返却しレスポンス生成

---

## 補足

- サービス層はテスト容易性・保守性向上にも寄与
- 業務ロジックが増えた場合も責務分割しやすい
